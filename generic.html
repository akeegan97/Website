<!DOCTYPE HTML>

<html>
	<head>
		<title>Super Store Project</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a href="index.html" class="title">Super Store</a>
				<nav>
					<ul>
						<li><a href="index.html">Back to Main</Main></a></li>
						<li><a href="generic.html" class="active">Project</a></li>
						
					</ul>
				</nav>
			</header>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<section id="main" class="wrapper">
						<div class="inner">
							<h1 class="major">Super Store</h1>
							<span class="image fit"><img src="images/pic07.jpg" alt="" /></span>
							
							<p>This project focused on a fictious super store's data set that included a lot of data fields over the course of several years. The focus for this project 
								was to preform a general exploratory data analysis and conduct a forecast of the main categories for the next year. I used Tableau and Python to conduct exploratory data analysis as well preforming a SARIMA forecast for Units sold for each main category
								for the next year. Using the average profit and sales per unit sold for each category the future profit and sales were extrapolated out. </p>
						</div>
					</section>
					<section id = "main" class = "wrapper">
						<div class="inner">
							<h1 class="major">Exploratory Data Analysis</h1>
					<section>
						<div class = "inner">
								<p><a href= "https://public.tableau.com/views/Super_Store_Tableau/Dashboard2?:language=en-US&:display_count=n&:origin=viz_share_link" target = '_blank' ><center>Tableau Visualization Link</center></a></p>
		
						</div>
					</section>
							<p>I started the exploratory data analysis using Tabeau. Creating several useful dashboards and worksheets to gain a better understanding of the data set. The Tableau dashboards and worksheets
								provided valuable insight into the data set, especially as to which business segment, category, and sub category is the most profitable. Tableau's vizualition ability helped me to identify
								what states and product types that have returned negative profits over the course of the recorded data. 
							</p>
					</section>
					<section id = "main" class="wrapper">
						<div class = "inner">
							<p>Georaphical Analysis</p>
							<span class="image fit"><img src = "images/MAP.jpg" alt ="" /></span>

						</div>
					</section>
					<section id="main" class="wrapper">
						<div class = "inner">
							<p>
								Georaphical analysis showed that there was not always a 1:1 relationship. For example California was the state that had the most units sold and was the most profitable state, 
								however, Texas was also a top five state for units sold but was the least profitable state for the store. This counterintuitive relationship holds true for other states as well.
								Some valuable insight gained from this shows that while some states buy a lot of products the products that are sold are either priced to low or are unprofitable to keep in stock and further market research
								is needed to reasses the presence of the store in these states.
							</p>
						</div>
					</section>
					<section id = "main" class="wrapper">
						<div class="inner">
							<p>Segment, Category, and Consumer Group Data</p>
							<span class = "image fit"><img src = "images/Profit_Orders_Segment_Category.jpg" alt ="" /></span>
							<p>
								Above is another Tableau dashboard that shows a breakdown of the profit and units sold by customer segment, category and subcategory. The customer segment that is the most profit generating is
								consumer as well as the biggest buyer of units sold. Technology was the most profitable product category for all three customer segments at around $145,000 in profits. Office Supplies generated around $120,000, and the smallest was Furniture which brought in $18,000. 
								With this information a recommendation for this store could be to focus on their more profitable categories and scale down their furniture holdings. In addition to scaling down furniture sales, 
								tables have been returned negative profits over the course of four years, therefore, it warrants a closer look into continuing keeping tables in the store's holdings. 
							</p>
							<p>Conclusion</p>
							<p>
								Using Tableau to preform exploratory data analysis I found that there is not a 1:1 relationship between states with high order counts and states that generated the highest profits.
								In addition taking a closer look into the customer type, prodcut categories and subcategories gave insight into which segments should be focused on and which should be scaled back. 
								Consumers made up the biggest group of orders as well as the most profit generating customer group. Technology is the most profitable business category followed closely by Office Supplies.
								The most profitable subcategory is Copiers across all three customer groups. Furniture being the smallest profit generating category also has products that have costed the store to sell. These 
								include Tables for all three customer groups and Bookcases for Consumers. The only other negative profit subcategory is Supplies in the Office Supplies business category, however, 
								this is only true for Consumers.
							</p>
						</div>
					</section>
					<section id="main" class="wrapper">
						<div class="inner">
							<h1 class="major">Forecasting</h1>
							<span class="image fit"><img src="images\Units_Sold_Forecast.jpg" alt="" /></span>
							<p>Above is an output graph of the historical units sold and the forecasted units sold for the next year for each category of the store. I chose to conduct a SARIMA or
								Seasonal Autoregressive Integrated Moving Average model to forecast the future units sold because there is a strong seasonality component to the store's sales that would not be captured with the standard ARIMA forecast. </p>
							<p>I used Python to manipulate the data set in order to make the calculations and forecasting easier. I started by creating three seperate Pandas DataFrames to store each
								of the different categories. I used the library statsmodels.api for the SARIMA model as it has built in functions and formulas that aided in the creating of the timeseries analysis. 
							 	in understanding the timeseries data firstly I defined a function to check the seasonality of the data and had it output the below figure
								as shown there is a strong seasonal pattern shown throughout the year with orders peaking in the fourth quarter and dropping off sharply in the first.</p>
							<p>Seasonality Decomposition<span class = "image fit"><img src = "images/Seasonal_decomp_furniture.jpg" alt="" /></span> </p>
							<p>After confirming that the data was seasonal the next step was to determine the stationarity of the data.
								I defined a function in Python that could test the stationarity of different data sets, using the statsmodels.tsa.stattools library I used the adfuller function inside the defined
								function. The adfuller test tests stationarity by conducting unit root tests on the data series. The output of all three categories' quantity sold is shown to be stationary 
								by the Augmented Dickery-Fuller test, at the 90%, 95%, and 99% confidence intervals.</p>

								<p>Augmented Dickery-Fuller Test Code <span class = "image fit"><img src = "images/ADF_test.jpg" alt="" /></span></p>
								<p>ADF test results for Furniture<span class = "image fit"><img src = "images\output_ADF_furniture.jpg" alt=""/></span></p>
								<p>The conclusion of the ADF tests for all three categories confirms that they are stationary and the use of the SARIMA model to forcast is applicable.</p>
								
								
								
								<p>The next step is to optimize the SARIMA parameters. I utlilized a grid search to find the optimal configuration for the model.
								I defined a function that would preform the grid search for each of the categories' quantity sold. The output of the function was given by (p,d,q)x(P,D,Q,m), where (p,d,q) are the three trend elements and (P,D,Q,m) are the seasonal elements.
								The grid search worked through finding the optimal configuration of the parameters that minimized the AIC. </p> 

								<p>Grid Search Code <span class = "image fit"><img src = "images/grid_search_code.jpg" alt=""/></span></p>
								<p>Output of gride search for the furniture category <span class = "image fit"><img src = "images\output_of gridsearch.jpg" alt=""/></span></p>

								<p>Once the optimized parameters had been found the next step was to input those parameters to the defined function sarima_eva which takes the dataset, optimized parameters, period, the end
									date of the training data, and the data that the model will compare itself to. I used December 1st of 2016 as the last date for the training set and December 2nd, 2016 to 
									December 1st, 2017 as the portion of the historical data that the model will compare it's forecasted values to the actual values. 
								</p>
								<p>sarima_eva Function and Output <span class = "image fit"><img src= "images\SARIMA_EVA_Function.jpg" alt=""/></span>
								<span class = "image fit"><img src ="images\output_SARIMA_EVA_to_console.jpg" alt=""/> </span></p>
								<p>The sarima_eva function works through with the optimized parameters and the data sets and returns the forecasted results for the 2017 year, and uses this to compare to the 
									actual values seen. The print statement gives useful information as to how the model preforms and compares the Root Square Mean Error of the two different model types.
								</p>
								
								<p>The second part of the sarima_eva function is the portion that displays the plots of useful information. These plots are useful to see the degree of accuracy that the model is producing
									as well as to see how the model compares to actual data observed before use as a forecasting tool.
									
									
									Figure 1 shows the plot diagnostics with a Q-Q plot that shows the residuals follow a Normal Distribution
									as well as other plots such as the correlogram which shows that a Moving Average of 1 is suitable for the model. 
								
									Figure 2 and 3 show how the model compares to observed data. Figure 2 is the dynamic model placed on the actual values, this type uses the predicted value of T+1
									to predict the value at T+2 and so on until the last value is predicted. Figure 3 shows the other type of model which is a one-step ahead model, meaning the predicted value at T+1 is not used
									to predict the next value instead the actual value of T+1 is used to predict the value at T+2. This is also shown above in the output of sarima_eva function that when dynamic is set to false the model
									preforms better.</p> 


								<p>Figure 1. Plot Diagnostics <span class = "image fit"><img src ="images\sarima_eva_output_group_plots.jpg" alt="" /></span></p>
								<p> Figure 2. Dynamic Forecast <span class = "image fit"><img src = "images\sarima_eva_dynamic_forecast_plot.jpg" alt="" /></span></p>
								<p> Figure 3. One-Step Forecast <span class = "image fit"><img src = "images\sarima_eva_one_step_forecast_plot.jpg" alt="" /></span></p>
								<p>The above method is detailing the steps taken for the Furniture category and was done for the other two Technology and Office Supplies as well. </p>
								<p>After comparing the model to real data and seeing that the model is sufficiently accurate the next step is to produce the actual forecast for the quantity sold for each category. This
									was done by giving the model all of the histroical data to fit to and then used to forecast one year into the future. Figure 4 shows the forecasting function that was used, figures 5 & 6 are histroical profit
									+ forecasted profit and histroical quantity sold + forecasted quantity sold respectively.
								</p>
								<p>Figure 4. Forecast Function<span class = "image fit"><img src = "images\forecast_func.jpg" alt = ""/></span></p>
								<p>Figure 5. Profit Plot<span class = "image fit"><img src = "images\Profit_Forecast.jpg" alt = ""/></span></p>
								<p>Figure 6. Quantity Plot<span class = "image fit"><img src = "images\Units_Sold_Forecast.jpg" alt = ""/></span></p>
								<p> The values in the forecasted section of Figure 5 are derived from taking the forecasted quantity for each category multiplied by the average profit per unit sold for each category
									between 2014 and 2017. While, the average profit per quantity sold used to scale the forecasted quantity takes several assumptions such as the proportion of the newly sold units will 
									be the same as the average of the historical data I chose to include it as a general overview on how each category's profit will look like for the following year.
								</p>
						</div>
					</section>
				

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper alt">
				<div class="inner">
					<ul class="menu">
						
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>